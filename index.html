<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Clase 4</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
    </head>
    <body>
        <div class="container">
            <div div="row">
                <div div="col">
                    <h1 class="mt-5 mb-4">Sietes por años:</h1>

                    <table class="table table-striped">
                        <tr>
                            <td>2010</td>
                            <td id="diez"></td>
                            <td></td>
                        </tr>

                        <tr>
                            <td>2011</td>
                            <td id="once"></td>
                            <td></td>
                        </tr>

                        <tr>
                            <td>2012</td>
                            <td id="doce"></td>
                            <td></td>
                        </tr>

                        <tr>
                            <td>2013</td>
                            <td id="trece"></td>
                            <td></td>
                        </tr>

                        <tr>
                            <td>2014</td>
                            <td id="catorce"></td>
                            <td></td>
                        </tr>

                        <tr>
                            <td>2015</td>
                            <td id="quince"></td>
                            <td></td>
                        </tr>

                        <tr>
                            <td>2016</td>
                            <td id="dieciseis"></td>
                            <td></td>
                        </tr>

                        <tr>
                            <td>2017</td>
                            <td id="diecisiete"></td>
                            <td></td>
                        </tr>

                        <tr>
                            <td>2018</td>
                            <td id="dieciocho"></td>
                            <td></td>
                        </tr>

                        <tr>
                            <td>2019</td>
                            <td id="diecinueve"></td>
                            <td></td>
                        </tr>

                        <tr>
                            <td>2020</td>
                            <td id="veinte"></td>
                            <td></td>
                        </tr>

                        <tr>
                            <td>2021</td>
                            <td id="veintiuno"></td>
                            <td></td>
                        </tr>

                        <tr>
                            <td>2022</td>
                            <td id="veintidos"></td>
                            <td></td>
                        </tr>
                        </table>



                <h2 class="my-5">Total por Profes</h2>
        <table class= "table table-striped">
        <tr>
            <td>GONZÁLEZ, A</td><td id="gonzalez"></td>
        </tr>
        <tr>
            <td>MORENO, P</td><td id="moreno"> </td>
        </tr>
        <tr>
            <td>HERMANSEN, P.</td><td id="hermansen"> </td>
        </tr>
        <tr>
            <td>ARIAS, R.</td><td id="arias"> </td>
        </tr>
        <tr>
            <td>ALVAREZ, P</td><td id="alvarez"> </td>
        </tr>
        <tr>
            <td>ALFARO, E.</td><td id="alfaro"> </td>
        </tr>
        <tr>
            <td>UBILLA, M.</td><td id="ubilla"> </td>
        </tr>
        <tr>
            <td>CANCINO, J.</td><td id="cancino"> </td>
        </tr>
        <tr>
            <td>CARO, I.</td><td id="caro"> </td>
        </tr>
        <tr>
            <td>MOLLENHAUER, K.</td><td id="mollenhauer"> </td>
        </tr>
        <tr>
            <td>VILLELA, A.</td><td id="villela"> </td>
        </tr>
        <tr>
            <td>DURAN, A.</td><td id="duran"> </td>
        </tr>
        <tr>
            <td>ULIBARRI, X.</td><td id="ulibarri"> </td>
        </tr>
        <tr>
            <td>RAMIREZ, R.</td><td id="ramirez"> </td>
        </tr> 
        <tr>
            <td>MANNS, P.</td><td id="manns"> </td>
        </tr> 
        <tr>
            <td>LEONARD, D.</td><td id="leonard"> </td>
        </tr> 
        <tr>
            <td>CASTILLO, E.</td><td id="castillo"> </td>
        </tr>  
        <tr>
            <td>NEIRA, J.</td><td id="neira"> </td>
        </tr>  
        <tr>
            <td>RICO, M.</td><td id="rico"> </td>
        </tr> 
        <tr>
            <td>DE LOS RIOS, P.</td><td id="delosrios"> </td>
        </tr> 
        <tr>
            <td>POZO, P.</td><td id="pozo"> </td>
        </tr> 
        <tr>
            <td>VIVANCO, T.</td><td id="vivanco"> </td>
        </tr> 
        <tr>
            <td>HOCES, S.</td><td id="hoces"> </td>
        </tr>   
        <tr>
            <td>BRIONES, M.</td><td id="briones"> </td>
        </tr>   
        <tr>
            <td>ALLARD, J.</td><td id="allard"> </td>
        </tr>   
        <tr>
            <td>FARIAS, G.</td><td id="farias"> </td>
        </tr>
        <tr>
            <td>TIRONI, M.</td><td id="tironi"> </td>
        </tr>
        <tr>
            <td>UBILLA, M.</td><td id="ubilla"> </td>
        </tr>
        <tr>
            <td>CORTEZ, F.</td><td id="cortez"> </td>
        </tr>
        <tr>
            <td>SANCHEZ, P.</td><td id="sanchez"> </td>
        </tr>
        <tr>
            <td>RIOS, C.</td><td id="rios"> </td>
        </tr>
        <tr>
            <td>PALMAROLA, H.</td><td id="palmarola"> </td>
        </tr> 
        <tr>
            <td>ESPINOZA, G.</td><td id="espinoza"> </td>
        </tr>  
        <tr>
            <td>GALVEZ, F.</td><td id="galvez"> </td>
        </tr>  
        <tr>
            <td>WUTH, P.</td><td id="wuth"> </td>
        </tr>  
        <tr>
            <td>FIGUEROA, B.</td><td id="figueroa"> </td>
        </tr>
        <tr>
            <td>AGUILA, E.</td><td id="aguila"> </td>
        </tr>
        <tr>
            <td>MONROY, F.</td><td id="monroy"> </td>
        </tr>      
        </table>

         <address></address>

                </div>
            </div>
        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js" integrity="sha512-dfX5uYVXzyU8+KHqj8bjo7UkOdg18PaOtpa48djpNbZHwExddghZ+ZmzWT06R5v6NSk3ZUfsH6FNEDepLx9hPQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script>
            
            const diez = document.querySelector("#diez");
            const once = document.querySelector("#once");
            const doce = document.querySelector("#doce");
            const trece = document.querySelector("#trece");
            const catorce = document.querySelector("#catorce");
            const quince = document.querySelector("#quince");
            const dieciseis = document.querySelector("#dieciseis");
            const diecisiete = document.querySelector("#diecisiete");
            const dieciocho = document.querySelector("#dieciocho");
            const diecinueve = document.querySelector("#diecinueve");
            const veinte = document.querySelector("#veinte");
            const veintiuno = document.querySelector("#veintiuno");
            const veintidos = document.querySelector("#veintidos");

           
            const picto = "◯";


            // los raw data
            var datos;

            //esto es nuevo, no se asusten:

            var profes = [];
            var profesOK = [];
            const olimpo = document.querySelector("address");

            Papa.parse("https://raw.githubusercontent.com/profesorfaco/dno097-2024/main/clase-04/sietes.csv", {
                download: true,
                header: true,
                dynamicTyping: true,
                complete: function (results) {
                    console.log(results);
                    datos = results.data;
                    console.log(datos);
                    datos.forEach((x) => {
                        if (x.year == 2010) {
                            diez.innerHTML += picto;
                        } else if (x.year == 2011) {
                            once.innerHTML += picto;
                        } else if (x.year == 2012) {
                            doce.innerHTML += picto;
                        } else if (x.year == 2013) {
                            trece.innerHTML += picto;
                        } else if (x.year == 2014) {
                            catorce.innerHTML += picto;
                        } else if (x.year == 2015) {
                            quince.innerHTML += picto;
                        } else if (x.year == 2016) {
                            dieciseis.innerHTML += picto;
                        } else if (x.year == 2017) {
                            diecisiete.innerHTML += picto;
                        } else if (x.year == 2018) {
                            dieciocho.innerHTML += picto;
                        } else if (x.year == 2019) {
                            diecinueve.innerHTML += picto;
                        } else if (x.year == 2020) {
                            veinte.innerHTML += picto;
                        } else if (x.year == 2021) {
                            veintiuno.innerHTML += picto;
                        } else {
                            veintidos.innerHTML += picto;
                        }

                        //puedo aprovecharme del mismo ciclo

                        profes.push(x.tutor);
                    });

                    //y agrego algunas cosas

                    console.log(profes);
                    profesOK = [...new Set(profes)];

                    profesOK.sort();

                    console.log(profesOK);

                    olimpo.innerHTML = " ";
                    
                },
            });
        </script>
    </body>
</html>